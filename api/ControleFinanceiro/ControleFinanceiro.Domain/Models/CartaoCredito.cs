namespace ControleFinanceiro.Domain.Models;

public class CartaoCredito
{
    public int Id { get; private set; }
    public string NomeCartao { get; private set; } = null!;
    public int UsuarioId { get; private set; }
    public Usuario Usuario { get; private set; } = null!;
    
    public CartaoCredito() { }
    
    public CartaoCredito(string nome, int usuarioId)
    {
        ValidarNome(nome);
        
        NomeCartao = nome;
        UsuarioId = usuarioId;
    }
    
    private static void ValidarNome(string nome)
    {
        if (string.IsNullOrWhiteSpace(nome))
            throw new ArgumentException("O nome do cartão não pode ser vazio ou nulo.");
        if (nome.Length < 3)
            throw new ArgumentException("O nome do cartão deve ter pelo menos 3 caracteres.");
    }
    
    public void AtualizarCartao(string nome)
    {
        ValidarNome(nome);
        NomeCartao = nome;
    }
}